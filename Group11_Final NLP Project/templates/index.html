<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Simple eCommerce Website</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f5f5f5;
      margin: 0;
      padding: 0;
    }
    nav {
      background-color: #007bff;
    }
    nav .nav-link, nav .navbar-brand {
      color: white !important;
      font-weight: bold;
    }
    .carousel-item img {
      width: 100%;
      height: 400px;
      object-fit: cover;
    }
    .product-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      padding: 30px;
    }
    .product-card {
      background: white;
      padding: 20px;
      margin: 15px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      width: 250px;
      text-align: center;
    }
    .product-card img {
      width: 100%;
      height: 200px;
      object-fit: cover;
      border-radius: 10px;
    }
    .product-card h3 {
      font-size: 20px;
      margin-top: 10px;
    }
    .product-card .price {
      font-size: 18px;
      color: #007bff;
      margin: 10px 0;
    }
    .product-card button {
      background-color: #28a745;
      color: white;
      border: none;
      padding: 10px 20px;
      margin-top: 10px;
      border-radius: 5px;
      cursor: pointer;
    }
    .product-card button:hover {
      background-color: #218838;
    }
    /* Chatbot */
    #chatbot-toggle {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 50%;
      padding: 15px;
      font-size: 24px;
      cursor: pointer;
      z-index: 1000;
    }
    #chatbot {
      display: none;
      flex-direction: column;
      position: fixed;
      bottom: 80px;
      right: 20px;
      width: 320px;
      height: 400px;
      background: white;
      border: 1px solid #ccc;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 0 10px rgba(0,0,0,0.3);
      z-index: 999;
      opacity: 0;
      pointer-events: none;
      transition: all 0.3s ease;
    }
    #chatbot.open {
      display: flex;
      opacity: 1;
      pointer-events: auto;
    }
    #chat-header {
      background-color: #007bff;
      color: white;
      padding: 12px;
      font-weight: bold;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    #chat-header span {
      cursor: pointer;
    }
    #chat-body {
      flex: 1;
      padding: 10px;
      overflow-y: auto;
      height: 300px;
    }
    .message {
      margin: 8px 0;
    }
    .user {
      text-align: right;
      color: #333;
    }
    .bot {
      text-align: left;
      color: #007bff;
    }
    #chat-input {
      display: flex;
      border-top: 1px solid #ccc;
    }
    #chat-input input {
      flex: 1;
      border: none;
      padding: 10px;
    }
    #chat-input button {
      background-color: #007bff;
      color: white;
      border: none;
      padding: 10px 20px;
      cursor: pointer;
    }
  </style>
</head>

<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-light">
  <div class="container-fluid">
    <a class="navbar-brand" href="#">eShop</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="#">Home</a></li>
        <li class="nav-item"><a class="nav-link" href="#">Shop</a></li>
        <li class="nav-item"><a class="nav-link" href="#">About</a></li>
        <li class="nav-item"><a class="nav-link" href="#">Contact</a></li>
      </ul>
    </div>
  </div>
</nav>

<!-- Hero Section -->
<div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="carousel">
  <div class="carousel-inner">
    <div class="carousel-item active">
      <img src="https://th.bing.com/th/id/OIP.p9nGz08JpS9uo6WJ54dJNAHaEI?rs=1&pid=ImgDetMain" class="d-block w-100" alt="Slide 1">
      <div class="carousel-caption d-none d-md-block">
        <h5>Shop the Latest Trends</h5>
        <p>Find the best products here!</p>
      </div>
    </div>
    <div class="carousel-item">
      <img src="https://th.bing.com/th/id/OIP.p9nGz08JpS9uo6WJ54dJNAHaEI?rs=1&pid=ImgDetMain" class="d-block w-100" alt="Slide 2">
      <div class="carousel-caption d-none d-md-block">
        <h5>Great Discounts Available</h5>
        <p>Don't miss out on amazing deals!</p>
      </div>
    </div>
    <!-- <div class="carousel-item">
      <img src="https://up.yimg.com/ib/th?id=OIP.JfmZujC-oxQfceBsssqgjwHaEl&pid=Api&rs=1&c=1&qlt=95&w=164&h=101" class="d-block w-100" alt="Slide 3">
      <div class="carousel-caption d-none d-md-block">
        <h5>Best Quality Products</h5>
        <p>Only the best products for our customers.</p>
      </div>
    </div> -->
  </div>
  <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
    <span class="carousel-control-prev-icon"></span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
    <span class="carousel-control-next-icon"></span>
  </button>
</div>

<!-- Products Section -->
<!-- <div class="product-container">
  <div class="product-card">
    <img src="https://images.unsplash.com/photo-1616625135475-bc36e072b1ed" alt="Product 1">
    <h3>Product 1</h3>
    <p>Product description goes here.</p>
    <p class="price">$10.00</p>
    <button>Add to Cart</button>
  </div>
  <div class="product-card">
    <img src="https://images.unsplash.com/photo-1598370902647-bdb4412ab3d2" alt="Product 2">
    <h3>Product 2</h3>
    <p>Product description goes here.</p>
    <p class="price">$15.00</p>
    <button>Add to Cart</button>
  </div>
  <div class="product-card">
    <img src="https://tse3.mm.bing.net/th?id=OIP.Fe8Ph21Hbdb5TIYZmjCK2QHaFj&pid=Api&P=0&h=180" alt="Product 3">
    <h3>Product 3</h3>
    <p>Product description goes here.</p>
    <p class="price">$20.00</p>
    <button>Add to Cart</button>
  </div>
</div> -->

<!-- Chatbot -->
<button id="chatbot-toggle">üí¨</button>

<div id="chatbot">
  <div id="chat-header">
    Chatbot <span onclick="closeChat()">‚ùå</span>
  </div>
  <div id="chat-body"></div>
  <div id="chat-input">
    <input type="text" id="user-input" placeholder="Type a message...">
    <button onclick="sendMessage()">Send</button>
  </div>
</div>

<!-- Scripts -->
<script>
  const chatbotToggle = document.getElementById('chatbot-toggle');
  const chatbot = document.getElementById('chatbot');
  const chatBody = document.getElementById('chat-body');
  const userInput = document.getElementById('user-input');

  chatbotToggle.addEventListener('click', () => chatbot.classList.add('open'));

  function closeChat() {
    chatbot.classList.remove('open');
  }

  function sendMessage() {
    const message = userInput.value.trim();
    if (!message) return;

    chatBody.innerHTML += `<div class="message user">${message}</div>`;
    userInput.value = '';
    chatBody.scrollTop = chatBody.scrollHeight;

    fetch('/predict', {
      method: 'POST',
      headers: {'Content-Type': 'application/json'},
      body: JSON.stringify({ message: message })
    })
    .then(response => response.json())
    .then(data => {
      chatBody.innerHTML += `<div class="message bot">${data.response}</div>`;
      chatBody.scrollTop = chatBody.scrollHeight;
    })
    .catch(error => {
      console.error('Error:', error);
      chatBody.innerHTML += `<div class="message bot">Oops! Something went wrong.</div>`;
    });
  }

  userInput.addEventListener('keypress', (e) => {
    if (e.key === 'Enter') sendMessage();
  });
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
